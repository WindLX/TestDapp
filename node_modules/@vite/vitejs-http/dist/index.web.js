!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define("$vite_HTTP",[],t):"object"==typeof exports?exports.$vite_HTTP=t():e.$vite_HTTP=t()}(this,(()=>(()=>{var e={52043:(e,t,r)=>{"use strict";r.d(t,{Z:()=>s});const n={CONNECT:function(e){return new Error("CONNECTION ERROR: Couldn't connect to node ".concat(e,"."))},ABORT:function(){return new Error("ABORT ERROR: Request already aborted.")},PARAMS:function(){return new Error("PARAMS ERROR.")},TIMEOUT:function(e){return new Error("CONNECTION TIMEOUT: timeout of ".concat(e," ms achived"))},INVALID_RESPONSE:function(e){return new Error("Invalid JSON RPC response: ".concat(JSON.stringify(e)))},IPC_ON:function(e){return new Error("Invalid IPC event on: ".concat(JSON.stringify(e)))},IPC_ON_CB:function(e){return new Error("The IPC on event ".concat(JSON.stringify(e),", cb is necessary"))}};function o(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var i=r(3995);const s=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.ERRORS=n,this.jsonrpc=i,this._requestManager={},this._requestId=0}var t,r;return t=e,r=[{key:"abort",value:function(){var e=this;Object.values(this._requestManager).forEach((function(t){var r=t.request,n=t.rej;r.abort(),n(e.ERRORS.ABORT())})),this._requestManager={}}},{key:"_addReq",value:function(e){var t=e.request,r={request:t,rej:e.rej};return this._requestManager[t.id]=r,r}},{key:"_removeReq",value:function(e){delete this._requestManager[e.request.id]}},{key:"_getRequestPayload",value:function(e,t){return e?(this._requestId++,this.jsonrpc.request(this._requestId,e,t)):n.PARAMS()}},{key:"_getNotificationPayload",value:function(e,t){return e?this.jsonrpc.notification(e,t):n.PARAMS()}},{key:"_getBatchPayload",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];if(!e||!e.length)return n.PARAMS();for(var t=[],r=0;r<e.length;r++){var o=e[r];if(!o||!o.type||"request"!==o.type&&"notification"!==o.type)return n.PARAMS();var i="notification"===o.type?this._getNotificationPayload(o.methodName,o.params):this._getRequestPayload(o.methodName,o.params);if(i instanceof Error)return i;t.push(i)}return t}}],r&&o(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),e}()},3995:(e,t,r)=>{"use strict";r.r(t),r.d(t,{ErrorObject:()=>c,JsonRpc:()=>i,JsonRpcError:()=>f,JsonRpcParsed:()=>l,NotificationObject:()=>u,RequestObject:()=>s,SuccessObject:()=>a,default:()=>_,error:()=>y,jsonrpc:()=>S,notification:()=>p,parse:()=>v,parseJsonRpcObject:()=>R,parseJsonRpcString:()=>m,parseObject:()=>b,request:()=>d,success:()=>h});const n=Object.prototype.hasOwnProperty,o="function"==typeof Number.isSafeInteger?Number.isSafeInteger:function(e){return"number"==typeof e&&isFinite(e)&&e===Math.floor(e)&&Math.abs(e)<=9007199254740991};class i{constructor(){this.jsonrpc="2.0"}serialize(){return JSON.stringify(this)}}i.VERSION="2.0";class s extends i{constructor(e,t,r){super(),this.id=e,this.method=t,void 0!==r&&(this.params=r)}}class u extends i{constructor(e,t){super(),this.method=e,void 0!==t&&(this.params=t)}}class a extends i{constructor(e,t){super(),this.id=e,this.result=t}}class c extends i{constructor(e,t){super(),this.id=e,this.error=t,this.id=e,this.error=t}}class l{constructor(e,t){this.payload=e,this.type=t,this.payload=e,this.type=t}}class f{constructor(e,t,r){this.message=e,this.code=o(t)?t:0,null!=r&&(this.data=r)}}function d(e,t,r){const n=new s(e,t,r);return O(n,!0),n}function p(e,t){const r=new u(e,t);return O(r,!0),r}function h(e,t){const r=new a(e,t);return O(r,!0),r}function y(e,t){const r=new c(e,t);return O(r,!0),r}function v(e){if(!P(e))return new l(f.invalidRequest(e),"invalid");let t;try{t=JSON.parse(e)}catch(t){return new l(f.parseError(e),"invalid")}return R(t)}function R(e){if(!Array.isArray(e))return b(e);if(0===e.length)return new l(f.invalidRequest(e),"invalid");const t=[];for(let r=0,n=e.length;r<n;r++)t[r]=b(e[r]);return t}f.invalidRequest=function(e){return new f("Invalid request",-32600,e)},f.methodNotFound=function(e){return new f("Method not found",-32601,e)},f.invalidParams=function(e){return new f("Invalid params",-32602,e)},f.internalError=function(e){return new f("Internal error",-32603,e)},f.parseError=function(e){return new f("Parse error",-32700,e)};const m=v;function b(e){let t=null,r=null,o="invalid";if(null==e||e.jsonrpc!==i.VERSION)t=f.invalidRequest(e),o="invalid";else if(n.call(e,"id")){if(n.call(e,"method")){const n=e;r=new s(n.id,n.method,n.params),t=O(r),o="request"}else if(n.call(e,"result")){const n=e;r=new a(n.id,n.result),t=O(r),o="success"}else if(n.call(e,"error")){const n=e;if(o="error",null==n.error)t=f.internalError(n);else{const e=new f(n.error.message,n.error.code,n.error.data);e.message!==n.error.message||e.code!==n.error.code?t=f.internalError(n):(r=new c(n.id,e),t=O(r))}}}else{const n=e;r=new u(n.method,n.params),t=O(r),o="notification"}return null==t&&null!=r?new l(r,o):new l(null!=t?t:f.invalidRequest(e),"invalid")}function O(e,t){let r=null;if(e instanceof s?(r=E(e.id),null==r&&(r=g(e.method)),null==r&&(r=w(e.params))):e instanceof u?(r=g(e.method),null==r&&(r=w(e.params))):e instanceof a?(r=E(e.id),null==r&&(r=void 0===e.result?f.internalError("Result must exist for success Response objects"):null)):e instanceof c&&(r=E(e.id,!0),null==r&&(r=function(e){return e instanceof f?o(e.code)?P(e.message)?null:f.internalError("Message must exist or must be a string."):f.internalError("Invalid error code. It must be an integer."):f.internalError("Error must be an instance of JsonRpcError")}(e.error))),t&&null!=r)throw r;return r}function E(e,t){return t&&null===e||P(e)||o(e)?null:f.internalError('"id" must be provided, a string or an integer.')}function g(e){return P(e)?null:f.invalidRequest(e)}function w(e){if(void 0===e)return null;if(Array.isArray(e)||null!=(t=e)&&"object"==typeof t&&!Array.isArray(t))try{return JSON.stringify(e),null}catch(t){return f.parseError(e)}var t;return f.invalidParams(e)}function P(e){return""!==e&&"string"==typeof e}const S={JsonRpc:i,JsonRpcError:f,request:d,notification:p,success:h,error:y,parse:v,parseObject:b,parseJsonRpcObject:R,parseJsonRpcString:v},_=S},92323:e=>{e.exports=XMLHttpRequest}},t={};function r(n){var o=t[n];if(void 0!==o)return o.exports;var i=t[n]={exports:{}};return e[n](i,i.exports,r),i.exports}r.d=(e,t)=>{for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var n={};return(()=>{"use strict";r.r(n),r.d(n,{HTTP_RPC:()=>f,default:()=>d});var e=r(52043);function t(e){return t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},t(e)}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function s(e,t){return s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},s(e,t)}function u(e,r){if(r&&("object"===t(r)||"function"==typeof r))return r;if(void 0!==r)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function a(e){return a=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},a(e)}var c="undefined"!=typeof window&&window.XMLHttpRequest?window.XMLHttpRequest:r(92323),l=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&s(e,t)}(d,e);var t,r,n,l,f=(n=d,l=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=a(n);if(l){var r=a(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return u(this,e)});function d(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"http://localhost:23456",r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:6e4,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{headers:[]};return o(this,d),(e=f.call(this)).type="http",e.host=t,e.timeout=r,e.headers=n.headers,e.requestId=0,e}return t=d,r=[{key:"_getRequest",value:function(){var e=new c;return e.open("POST",this.host),e.setRequestHeader("Content-Type","application/json;charset=utf-8"),this.headers&&this.headers.forEach((function(t){e.setRequestHeader(t.name,t.value)})),e.id=this.requestId++,e}},{key:"_send",value:function(e){var t=this;return new Promise((function(r,n){var o=!1,i=t._getRequest(),s=t._addReq({request:i,rej:function(e){o=!0,n(e)}}),u=function(){a&&clearTimeout(a),a=null,t._removeReq(s)},a=t.timeout?setTimeout((function(){if(!o)return i.abort(),u(),n(t.ERRORS.TIMEOUT(t.timeout))}),t.timeout):null;i.onreadystatechange=function(){if(4===i.readyState&&!o){u();var e=i.responseText;try{if((e=e?JSON.parse(e):null)&&e.error)return n(e)}catch(r){return n(t.ERRORS.INVALID_RESPONSE(e))}return r(e)}};try{i.send(JSON.stringify(e))}catch(e){return u(),n(t.ERRORS.CONNECT(t.host))}}))}},{key:"request",value:function(e,t){var r=this,n=this._getRequestPayload(e,t);return n instanceof Error?Promise.reject(n):this._send(n).then((function(e){if(!e)throw r.ERRORS.INVALID_RESPONSE(e);return{result:e.result||null,error:e.error||null}}))}},{key:"sendNotification",value:function(e,t){var r=this._getNotificationPayload(e,t);return r instanceof Error?Promise.reject(r):this._send(r)}},{key:"batch",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=this._getBatchPayload(e);return t instanceof Error?Promise.reject(t):this._send(t).then((function(e){e=(e||[]).sort((function(e,t){return e.id-t.id}));var r=[],n=0;return t.forEach((function(t){t.id?(r.push({result:e&&e[n]&&e[n].result||null,error:e&&e[n]&&e[n].error||null}),n++):r.push(null)})),e=null,t=null,r}))}}],r&&i(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),d}(e.Z),f=l;const d=l})(),n})()));